name: 01_OpenClaw_Create_Original_Branch

on:
  # 注释掉定时触发
  # schedule:
  #   - cron: '0 */6 * * *'  # 每6小时运行一次
  workflow_dispatch:  # 允许手动触发

jobs:
  create-original-branch:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pages: write
      id-token: write
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        fetch-depth: 0  # 获取所有分支

    - name: Make script executable
      run: |
        chmod +x scripts/create_original_branch.sh

    - name: Create original-en branch with docs from upstream
      run: |
        ./scripts/create_original_branch.sh
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
